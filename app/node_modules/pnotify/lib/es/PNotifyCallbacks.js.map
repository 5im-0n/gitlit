{"version":3,"file":"PNotifyCallbacks.js","sources":["src/PNotifyCallbacks.html"],"sourcesContent":["<script>\n  import PNotify from './PNotify.html';\n\n  let _open = PNotify.prototype.open;\n  let _close = PNotify.prototype.close;\n\n  const callbacks = (notice, options, name) => {\n    let modules = notice ? notice.get().modules : options.modules;\n    let cbs = (modules && modules.Callbacks) ? modules.Callbacks : {};\n    return cbs[name] ? cbs[name] : () => true;\n  };\n\n  PNotify.prototype.open = function (...args) {\n    let ret = callbacks(this, null, 'beforeOpen')(this);\n    if (ret !== false) {\n      _open.apply(this, args);\n      callbacks(this, null, 'afterOpen')(this);\n    }\n  };\n\n  PNotify.prototype.close = function (timerHide, ...args) {\n    let ret = callbacks(this, null, 'beforeClose')(this, timerHide);\n    if (ret !== false) {\n      _close.apply(this, [timerHide, ...args]);\n      callbacks(this, null, 'afterClose')(this, timerHide);\n    }\n  };\n\n  export default {\n    setup (Component) {\n      Component.key = 'Callbacks';\n\n      Component.getCallbacks = callbacks;\n\n      let _alert = PNotify.alert;\n      let _notice = PNotify.notice;\n      let _info = PNotify.info;\n      let _success = PNotify.success;\n      let _error = PNotify.error;\n\n      let init = (original, options) => {\n        callbacks(null, options, 'beforeInit')(options);\n        let notice = original(options);\n        callbacks(notice, null, 'afterInit')(notice);\n        return notice;\n      };\n\n      PNotify.alert = (options) => {\n        return init(_alert, options);\n      };\n      PNotify.notice = (options) => {\n        return init(_notice, options);\n      };\n      PNotify.info = (options) => {\n        return init(_info, options);\n      };\n      PNotify.success = (options) => {\n        return init(_success, options);\n      };\n      PNotify.error = (options) => {\n        return init(_error, options);\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Callbacks = Component;\n    }\n  };\n</script>\n"],"names":[],"mappings":"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"}