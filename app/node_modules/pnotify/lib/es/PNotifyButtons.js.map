{"version":3,"file":"PNotifyButtons.js","sources":["src/PNotifyButtons.html"],"sourcesContent":["{#if _showCloser}\n  <div\n      class=\"ui-pnotify-closer {(!closerHover || _mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}\"\n      role=\"button\"\n      tabindex=\"0\"\n      title=\"{labels.close}\"\n      on:click=\"handleCloserClick()\">\n    <span class=\"{_closerClass}\"></span>\n  </div>\n{/if}\n{#if _showSticker}\n  <div\n      class=\"ui-pnotify-sticker {(!stickerHover || _mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}\"\n      role=\"button\"\n      aria-pressed=\"{_options.hide}\"\n      tabindex=\"0\"\n      title=\"{_options.hide ? labels.stick : labels.unstick}\"\n      on:click=\"handleStickerClick()\">\n    <span class=\"{_options.hide ? _pinUpClass : _pinDownClass}\"></span>\n  </div>\n{/if}\n\n<script>\n  import PNotify from './PNotify.html';\n\n  export default {\n    setup (Component) {\n      Component.key = 'Buttons';\n\n      Component.defaults = {\n        // Provide a button for the user to manually close the notice.\n        closer: true,\n        // Only show the closer button on hover.\n        closerHover: true,\n        // Provide a button for the user to manually stick the notice.\n        sticker: true,\n        // Only show the sticker button on hover.\n        stickerHover: true,\n        // The various displayed text, helps facilitating internationalization.\n        labels: {\n          close: 'Close',\n          stick: 'Stick',\n          unstick: 'Unstick'\n        },\n        // The classes to use for button icons. Leave them null to use the classes from the styling you're using.\n        classes: {\n          closer: null,\n          pinUp: null,\n          pinDown: null\n        }\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Buttons = Component;\n      // Prepend this module to the container.\n      PNotify.modulesPrependContainer.push(Component);\n\n      // Add button icons to icons objects.\n      Object.assign(PNotify.icons.brighttheme, {\n        closer: 'brighttheme-icon-closer',\n        pinUp: 'brighttheme-icon-sticker',\n        pinDown: 'brighttheme-icon-sticker brighttheme-icon-stuck'\n      });\n      Object.assign(PNotify.icons.bootstrap3, {\n        closer: 'glyphicon glyphicon-remove',\n        pinUp: 'glyphicon glyphicon-pause',\n        pinDown: 'glyphicon glyphicon-play'\n      });\n      Object.assign(PNotify.icons.fontawesome4, {\n        closer: 'fa fa-times',\n        pinUp: 'fa fa-pause',\n        pinDown: 'fa fa-play'\n      });\n      Object.assign(PNotify.icons.fontawesome5, {\n        closer: 'fas fa-times',\n        pinUp: 'fas fa-pause',\n        pinDown: 'fas fa-play'\n      });\n    },\n\n    oncreate () {\n      this.fire('init', { module: this });\n    },\n\n    data () {\n      return Object.assign({\n        '_notice': null, // The PNotify notice.\n        '_options': {}, // The options for the notice.\n        '_mouseIsIn': false\n      }, PNotify.modules.Buttons.defaults);\n    },\n\n    computed: {\n      // Whether to show the sticker icon.\n      _showSticker: ({ sticker, _notice }) => sticker && !(_notice && _notice.refs.elem.classList.contains('nonblock')),\n      // Whether to show the closer icon.\n      _showCloser: ({ closer, _notice }) => closer && !(_notice && _notice.refs.elem.classList.contains('nonblock')),\n      // These are button icon classes.\n      _pinUpClass: ({ classes, _notice }) => _notice ? (classes.pinUp === null ? _notice.get()._icons.pinUp : classes.pinUp) : '',\n      _pinDownClass: ({ classes, _notice }) => _notice ? (classes.pinDown === null ? _notice.get()._icons.pinDown : classes.pinDown) : '',\n      _closerClass: ({ classes, _notice }) => _notice ? (classes.closer === null ? _notice.get()._icons.closer : classes.closer) : ''\n    },\n\n    methods: {\n      initModule (options) {\n        this.set(options);\n        const { _notice } = this.get();\n        _notice.on('mouseenter', () => this.set({ '_mouseIsIn': true }));\n        _notice.on('mouseleave', () => this.set({ '_mouseIsIn': false }));\n        _notice.on('state', ({ changed, current }) => {\n          if (!changed.hide) {\n            return;\n          }\n\n          const { sticker } = this.get();\n\n          if (!sticker) {\n            return;\n          }\n\n          // Font Awesome 5 replaces our lovely element with a gross SVG. In\n          // order to make it play nice with Svelte, we have to clear the\n          // element and make it again.\n          const icon = current.hide ? this.get().classes.pinUp : this.get().classes.pinDown;\n          if (\n            (this.get()._notice.get().icons === 'fontawesome5') ||\n            (typeof icon === 'string' && icon.match(/(^| )fa[srlb]($| )/))\n          ) {\n            this.set({ 'sticker': false });\n            this.set({ 'sticker': true });\n          }\n        });\n      },\n\n      handleStickerClick () {\n        const { _notice } = this.get();\n        _notice.update({ hide: !_notice.get().hide });\n      },\n\n      handleCloserClick () {\n        this.get()._notice.close(false);\n        this.set({ '_mouseIsIn': false });\n      }\n    }\n  };\n</script>\n\n<style>\n  .ui-pnotify-closer,\n  .ui-pnotify-sticker {\n    float: right;\n    margin-left: .5em;\n    cursor: pointer;\n  }\n  :global([dir=rtl]) .ui-pnotify-closer,\n  :global([dir=rtl]) .ui-pnotify-sticker {\n    float: left;\n    margin-right: .5em;\n    margin-left: 0;\n  }\n  .ui-pnotify-buttons-hidden {\n    visibility: hidden;\n  }\n</style>\n"],"names":[],"mappings":"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"}