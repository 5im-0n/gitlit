{"version":3,"sources":["PNotifyCompat.js"],"names":["PNotify","window","translateOptions","options","module","moduleName","newOptions","PNotifyCompat","prototype","translateName","badName","goodName","underscoreIndex","indexOf","slice","toUpperCase","name","hasOwnProperty","addClass","addclass","cornerClass","cornerclass","textTrusted","textEscape","titleTrusted","titleEscape","styling","icons","stack","overlay_close","overlayClose","modules","Animate","animate","Buttons","buttons","classes","Confirm","confirm","promptDefault","promptValue","Desktop","desktop","History","history","Mobile","mobile","NonBlock","nonblock","Reference","reference","Callbacks","beforeInit","afterInit","beforeOpen","afterOpen","beforeClose","afterClose","before_init","target","document","body","data","_get","get","option","undefined","jQuery","refs","elem","call","on","e","trigger","value","getCallbacks","text_escape","title_escape","reload","removeAll","removeStack","positionAll","permission","showLast"],"mappings":"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","file":"src/PNotifyCompat.js","sourceRoot":"../","sourcesContent":["var PNotify = window.PNotify;\n\n// Translate v3 options to v4 options.\nconst translateOptions = (options, module, moduleName) => {\n  // Merge the classic default options.\n  const newOptions = module ? Object.assign({}, moduleName ? PNotifyCompat.prototype.options[moduleName] : {}, options) : Object.assign({}, PNotifyCompat.prototype.options, options);\n  const translateName = (badName) => {\n    let goodName = badName;\n    let underscoreIndex;\n    while ((underscoreIndex = goodName.indexOf('_')) !== -1) {\n      goodName = goodName.slice(0, underscoreIndex) + goodName.slice(underscoreIndex + 1, underscoreIndex + 2).toUpperCase() + goodName.slice(underscoreIndex + 2);\n    }\n    return goodName;\n  };\n\n  // Translate all options to the new style.\n  for (let name in newOptions) {\n    if (newOptions.hasOwnProperty(name) && name.indexOf('_') !== -1) {\n      const goodName = translateName(name);\n      newOptions[goodName] = newOptions[name];\n      delete newOptions[name];\n    }\n  }\n\n  if (!module) {\n    // Options that have changed.\n    if (newOptions.hasOwnProperty('addclass')) {\n      newOptions.addClass = newOptions.addclass;\n      delete newOptions.addclass;\n    }\n    if (newOptions.hasOwnProperty('cornerclass')) {\n      newOptions.cornerClass = newOptions.cornerclass;\n      delete newOptions.cornerClass;\n    }\n    if (newOptions.hasOwnProperty('textEscape')) {\n      newOptions.textTrusted = !newOptions.textEscape;\n      delete newOptions.textEscape;\n    }\n    if (newOptions.hasOwnProperty('titleEscape')) {\n      newOptions.titleTrusted = !newOptions.titleEscape;\n      delete newOptions.titleEscape;\n    }\n\n    // Styling and icons.\n    if (newOptions.hasOwnProperty('styling')) {\n      if (newOptions.styling === 'bootstrap3') {\n        newOptions.icons = 'bootstrap3';\n      } else if (newOptions.styling === 'fontawesome') {\n        newOptions.styling = 'bootstrap3';\n        newOptions.icons = 'fontawesome4';\n      }\n    }\n\n    // Stacks.\n    if (newOptions.hasOwnProperty('stack')) {\n      if (newOptions.stack.overlay_close) {\n        newOptions.stack.overlayClose = newOptions.stack.overlay_close;\n      }\n    }\n\n    // Translate module options.\n    newOptions.modules = {};\n    if (newOptions.hasOwnProperty('animate')) {\n      newOptions.modules.Animate = translateOptions(newOptions.animate, true, 'animate');\n      delete newOptions.animate;\n    }\n    if (newOptions.hasOwnProperty('buttons')) {\n      newOptions.modules.Buttons = translateOptions(newOptions.buttons, true, 'buttons');\n      delete newOptions.buttons;\n      if (newOptions.modules.Buttons.classes) {\n        newOptions.modules.Buttons.classes = translateOptions(newOptions.modules.Buttons.classes, true);\n      }\n    }\n    if (newOptions.hasOwnProperty('confirm')) {\n      newOptions.modules.Confirm = translateOptions(newOptions.confirm, true, 'confirm');\n      if (newOptions.modules.Confirm.promptDefault) {\n        newOptions.modules.Confirm.promptValue = newOptions.modules.Confirm.promptDefault;\n        delete newOptions.modules.Confirm.promptDefault;\n      }\n      delete newOptions.confirm;\n    }\n    if (newOptions.hasOwnProperty('desktop')) {\n      newOptions.modules.Desktop = translateOptions(newOptions.desktop, true, 'desktop');\n      delete newOptions.desktop;\n    }\n    if (newOptions.hasOwnProperty('history')) {\n      newOptions.modules.History = translateOptions(newOptions.history, true, 'history');\n      delete newOptions.history;\n    }\n    if (newOptions.hasOwnProperty('mobile')) {\n      newOptions.modules.Mobile = translateOptions(newOptions.mobile, true, 'mobile');\n      delete newOptions.mobile;\n    }\n    if (newOptions.hasOwnProperty('nonblock')) {\n      newOptions.modules.NonBlock = translateOptions(newOptions.nonblock, true, 'nonblock');\n      delete newOptions.nonblock;\n    }\n    if (newOptions.hasOwnProperty('reference')) {\n      newOptions.modules.Reference = translateOptions(newOptions.reference, true, 'reference');\n      delete newOptions.reference;\n    }\n    if (newOptions.hasOwnProperty('beforeInit')) {\n      if (!newOptions.modules.Callbacks) {\n        newOptions.modules.Callbacks = {};\n      }\n      newOptions.modules.Callbacks.beforeInit = newOptions.beforeInit;\n      delete newOptions.beforeInit;\n    }\n    if (newOptions.hasOwnProperty('afterInit')) {\n      if (!newOptions.modules.Callbacks) {\n        newOptions.modules.Callbacks = {};\n      }\n      newOptions.modules.Callbacks.afterInit = newOptions.afterInit;\n      delete newOptions.afterInit;\n    }\n    if (newOptions.hasOwnProperty('beforeOpen')) {\n      if (!newOptions.modules.Callbacks) {\n        newOptions.modules.Callbacks = {};\n      }\n      newOptions.modules.Callbacks.beforeOpen = newOptions.beforeOpen;\n      delete newOptions.beforeOpen;\n    }\n    if (newOptions.hasOwnProperty('afterOpen')) {\n      if (!newOptions.modules.Callbacks) {\n        newOptions.modules.Callbacks = {};\n      }\n      newOptions.modules.Callbacks.afterOpen = newOptions.afterOpen;\n      delete newOptions.afterOpen;\n    }\n    if (newOptions.hasOwnProperty('beforeClose')) {\n      if (!newOptions.modules.Callbacks) {\n        newOptions.modules.Callbacks = {};\n      }\n      newOptions.modules.Callbacks.beforeClose = newOptions.beforeClose;\n      delete newOptions.beforeClose;\n    }\n    if (newOptions.hasOwnProperty('afterClose')) {\n      if (!newOptions.modules.Callbacks) {\n        newOptions.modules.Callbacks = {};\n      }\n      newOptions.modules.Callbacks.afterClose = newOptions.afterClose;\n      delete newOptions.afterClose;\n    }\n  }\n\n  return newOptions;\n};\n\n// The compatibility class.\nclass PNotifyCompat extends PNotify {\n  constructor (options) {\n    if (typeof options !== 'object') {\n      options = {'text': options};\n    }\n\n    // These need to be called directly, since we're not using PNotify.alert().\n    if (PNotify.modules.Callbacks && options.before_init) {\n      options.before_init(options);\n    }\n\n    options = translateOptions(options);\n\n    super({target: document.body, data: options});\n\n    // Override the get function to return the element like it did in v3.\n    const _get = this.get;\n    this.get = function (option) {\n      if (option === undefined) {\n        return Object.assign(window.jQuery ? window.jQuery(this.refs.elem) : this.refs.elem, _get.call(this));\n      }\n      return _get.call(this, option);\n    };\n\n    // Confirm module events.\n    this.on('pnotify.confirm', (e) => {\n      if (window.jQuery) {\n        window.jQuery(this.refs.elem).trigger('pnotify.confirm', [this, e.value]);\n      }\n    });\n    this.on('pnotify.cancel', (e) => {\n      if (window.jQuery) {\n        window.jQuery(this.refs.elem).trigger('pnotify.cancel', this);\n      }\n    });\n\n    if (PNotify.modules.Callbacks) {\n      PNotify.modules.Callbacks.getCallbacks(this, null, 'afterInit')(this);\n    }\n  }\n\n  update (options) {\n    options = translateOptions(options);\n    return super.update(options);\n  }\n}\n\n// Lets you change defaults the old way.\nPNotifyCompat.prototype.options = {\n  text_escape: false,\n  title_escape: false\n};\n\n// Forward static functions.\nPNotifyCompat.reload = () => PNotifyCompat;\nPNotifyCompat.removeAll = () => PNotify.removeAll();\nPNotifyCompat.removeStack = (stack) => PNotify.removeStack(stack);\nPNotifyCompat.positionAll = (animate) => PNotify.positionAll(animate);\n\n// Desktop module permission method.\nPNotifyCompat.desktop = {\n  permission: () => {\n    PNotify.modules.Desktop.permission();\n  }\n};\n\n// Old style showLast() in History module.\nif (window.jQuery) {\n  window.jQuery(() => {\n    window.jQuery(document.body).on('pnotify.history-last', function () {\n      PNotify.modules.History.showLast();\n    });\n  });\n}\n\nwindow.PNotifyCompat = PNotifyCompat;\n"]}