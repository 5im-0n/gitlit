{"version":3,"sources":["src/PNotifyButtons.html"],"names":[],"mappings":";;;;;;;;;;UA8FqB,Y,OAAoB;AAAA,MAAlB,OAAkB,QAAlB,OAAkB;AAAA,MAAT,OAAS,QAAT,OAAS;;SAAK,WAAW,EAAE,WAAW,QAAQ,IAAR,CAAa,IAAb,CAAkB,SAAlB,CAA4B,QAA5B,CAAqC,UAArC,CAAb,C;;;UAErC,W,QAAmB;AAAA,MAAjB,MAAiB,SAAjB,MAAiB;AAAA,MAAT,OAAS,SAAT,OAAS;;SAAK,UAAU,EAAE,WAAW,QAAQ,IAAR,CAAa,IAAb,CAAkB,SAAlB,CAA4B,QAA5B,CAAqC,UAArC,CAAb,C;;;UAElC,W,QAAoB;AAAA,MAAlB,OAAkB,SAAlB,OAAkB;AAAA,MAAT,OAAS,SAAT,OAAS;;SAAK,UAAW,QAAQ,KAAR,KAAkB,IAAlB,GAAyB,QAAQ,GAAR,GAAc,MAAd,CAAqB,KAA9C,GAAsD,QAAQ,KAAzE,GAAkF,E;;;UACzG,a,QAAoB;AAAA,MAAlB,OAAkB,SAAlB,OAAkB;AAAA,MAAT,OAAS,SAAT,OAAS;;SAAK,UAAW,QAAQ,OAAR,KAAoB,IAApB,GAA2B,QAAQ,GAAR,GAAc,MAAd,CAAqB,OAAhD,GAA0D,QAAQ,OAA7E,GAAwF,E;;;UAClH,Y,QAAoB;AAAA,MAAlB,OAAkB,SAAlB,OAAkB;AAAA,MAAT,OAAS,SAAT,OAAS;;SAAK,UAAW,QAAQ,MAAR,KAAmB,IAAnB,GAA0B,QAAQ,GAAR,GAAc,MAAd,CAAqB,MAA/C,GAAwD,QAAQ,MAA3E,GAAqF,E;;;UAhB1H,I,GAAG;AACN,SAAO,SAAc;AACnB,cAAW,IADQ,EACJ;AACf,eAAY,EAFO,EAEL;AACd,iBAAc;AAHK,GAAd,EAIJ,QAAQ,OAAR,CAAgB,OAAhB,CAAwB,QAJpB,CAAP;AAKD;;eAaQ;AACP,YADO,sBACK,OADL,EACc;AAAA;;AACnB,QAAK,GAAL,CAAS,OAAT;;AADmB,cAEC,KAAK,GAAL,EAFD;AAAA,OAEX,OAFW,QAEX,OAFW;;AAGnB,WAAQ,EAAR,CAAW,YAAX,EAAyB;AAAA,WAAM,MAAK,GAAL,CAAS,EAAE,cAAc,IAAhB,EAAT,CAAN;AAAA,IAAzB;AACA,WAAQ,EAAR,CAAW,YAAX,EAAyB;AAAA,WAAM,MAAK,GAAL,CAAS,EAAE,cAAc,KAAhB,EAAT,CAAN;AAAA,IAAzB;AACA,WAAQ,EAAR,CAAW,OAAX,EAAoB,iBAA0B;AAAA,QAAvB,OAAuB,SAAvB,OAAuB;AAAA,QAAd,OAAc,SAAd,OAAc;;AAC5C,QAAI,CAAC,QAAQ,IAAb,EAAmB;AACjB;AACD;;AAH2C,gBAKxB,MAAK,GAAL,EALwB;AAAA,QAKpC,OALoC,SAKpC,OALoC;;AAO5C,QAAI,CAAC,OAAL,EAAc;AACZ;AACD;;AAEP;AACA;AACA;AACM,QAAM,OAAO,QAAQ,IAAR,GAAe,MAAK,GAAL,GAAW,OAAX,CAAmB,KAAlC,GAA0C,MAAK,GAAL,GAAW,OAAX,CAAmB,OAA1E;AACA,QACG,MAAK,GAAL,GAAW,OAAX,CAAmB,GAAnB,GAAyB,KAAzB,KAAmC,cAApC,IACC,OAAO,IAAP,KAAgB,QAAhB,IAA4B,KAAK,KAAL,CAAW,oBAAX,CAF/B,EAGE;AACA,WAAK,GAAL,CAAS,EAAE,WAAW,KAAb,EAAT;AACA,WAAK,GAAL,CAAS,EAAE,WAAW,IAAb,EAAT;AACD;AACF,IAtBD;AAuBD,GA7BM;AA+BP,oBA/BO,gCA+Be;AAAA,eACA,KAAK,GAAL,EADA;AAAA,OACZ,OADY,SACZ,OADY;;AAEpB,WAAQ,MAAR,CAAe,EAAE,MAAM,CAAC,QAAQ,GAAR,GAAc,IAAvB,EAAf;AACD,GAlCM;AAoCP,mBApCO,+BAoCc;AACnB,QAAK,GAAL,GAAW,OAAX,CAAmB,KAAnB,CAAyB,KAAzB;AACA,QAAK,GAAL,CAAS,EAAE,cAAc,KAAhB,EAAT;AACD;AAvCM,E;;UAvBA,Q,GAAG;AACV,OAAK,IAAL,CAAU,MAAV,EAAkB,EAAE,QAAQ,IAAV,EAAlB;AACD;;UAxDK,K,CAAC,S,EAAW;AAChB,YAAU,GAAV,GAAgB,SAAhB;;AAEA,YAAU,QAAV,GAAqB;AACvB;AACI,WAAQ,IAFW;AAGvB;AACI,gBAAa,IAJM;AAKvB;AACI,YAAS,IANU;AAOvB;AACI,iBAAc,IARK;AASvB;AACI,WAAQ;AACN,WAAO,OADD;AAEN,WAAO,OAFD;AAGN,aAAS;AAHH,IAVW;AAevB;AACI,YAAS;AACP,YAAQ,IADD;AAEP,WAAO,IAFA;AAGP,aAAS;AAHF;AAhBU,GAArB;;AAuBF;AACE,UAAQ,OAAR,CAAgB,OAAhB,GAA0B,SAA1B;AACF;AACE,UAAQ,uBAAR,CAAgC,IAAhC,CAAqC,SAArC;;AAEF;AACE,WAAc,QAAQ,KAAR,CAAc,WAA5B,EAAyC;AACvC,WAAQ,yBAD+B;AAEvC,UAAO,0BAFgC;AAGvC,YAAS;AAH8B,GAAzC;AAKA,WAAc,QAAQ,KAAR,CAAc,UAA5B,EAAwC;AACtC,WAAQ,4BAD8B;AAEtC,UAAO,2BAF+B;AAGtC,YAAS;AAH6B,GAAxC;AAKA,WAAc,QAAQ,KAAR,CAAc,YAA5B,EAA0C;AACxC,WAAQ,aADgC;AAExC,UAAO,aAFiC;AAGxC,YAAS;AAH+B,GAA1C;AAKA,WAAc,QAAQ,KAAR,CAAc,YAA5B,EAA0C;AACxC,WAAQ,cADgC;AAExC,UAAO,cAFiC;AAGxC,YAAS;AAH+B,GAA1C;AAKD;;;;;;;;;;;;sBA9EA,W,IAAW,kBAAA,SAAA,EAAA,GAAA,C;;sBAUX,Y,IAAY,gBAAA,SAAA,EAAA,GAAA,C;;;;;;;;;;;;;;;;YAVZ,W,EAAW;;;;;;;;;;;;;YAUX,Y,EAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aAJD,iB;;;;;;;8BACE,Y,GAAY,iB;;8DALG,CAAA,IAAC,WAAD,IAAY,IAAI,UAAjB,GAA+B,EAA/B,GAAoC,2B,IAA2B,iB;;;sCAGjF,M,CAAO,K;;;;;;;;+BAEH,Y,GAAY,iB;;;sHALG,CAAA,IAAC,WAAD,IAAY,IAAI,UAAjB,GAA+B,EAA/B,GAAoC,2B,IAA2B,iB,GAAA;;;;qEAGjF,M,CAAO,K,GAAK;;;;;;;;;;;;;;;;;;;aAYV,kB;;;;;;;kDACE,Q,CAAS,I,GAAI,IAAG,W,GAAW,IAAG,a,IAAa,iB;;+DAN3B,CAAA,IAAC,YAAD,IAAa,IAAI,UAAlB,GAAgC,EAAhC,GAAqC,2B,IAA2B,iB;;mEAE5E,Q,CAAS,I;;sCAEhB,Q,CAAS,I,GAAI,IAAG,MAAH,CAAU,K,GAAK,IAAG,MAAH,CAAU,O;;;;;;;iIAElC,Q,CAAS,I,GAAI,IAAG,W,GAAW,IAAG,a,IAAa,iB,GAAA;;;;wHAN3B,CAAA,IAAC,YAAD,IAAa,IAAI,UAAlB,GAAgC,EAAhC,GAAqC,2B,IAA2B,iB,GAAA;;;;qFAE5E,Q,CAAS,I,GAAI;;;;2FAEpB,Q,CAAS,I,GAAI,IAAG,MAAH,CAAU,K,GAAK,IAAG,MAAH,CAAU,O,GAAO","sourcesContent":["{#if _showCloser}\n  <div\n      class=\"ui-pnotify-closer {(!closerHover || _mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}\"\n      role=\"button\"\n      tabindex=\"0\"\n      title=\"{labels.close}\"\n      on:click=\"handleCloserClick()\">\n    <span class=\"{_closerClass}\"></span>\n  </div>\n{/if}\n{#if _showSticker}\n  <div\n      class=\"ui-pnotify-sticker {(!stickerHover || _mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}\"\n      role=\"button\"\n      aria-pressed=\"{_options.hide}\"\n      tabindex=\"0\"\n      title=\"{_options.hide ? labels.stick : labels.unstick}\"\n      on:click=\"handleStickerClick()\">\n    <span class=\"{_options.hide ? _pinUpClass : _pinDownClass}\"></span>\n  </div>\n{/if}\n\n<script>\n  import PNotify from './PNotify.html';\n\n  export default {\n    setup (Component) {\n      Component.key = 'Buttons';\n\n      Component.defaults = {\n        // Provide a button for the user to manually close the notice.\n        closer: true,\n        // Only show the closer button on hover.\n        closerHover: true,\n        // Provide a button for the user to manually stick the notice.\n        sticker: true,\n        // Only show the sticker button on hover.\n        stickerHover: true,\n        // The various displayed text, helps facilitating internationalization.\n        labels: {\n          close: 'Close',\n          stick: 'Stick',\n          unstick: 'Unstick'\n        },\n        // The classes to use for button icons. Leave them null to use the classes from the styling you're using.\n        classes: {\n          closer: null,\n          pinUp: null,\n          pinDown: null\n        }\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Buttons = Component;\n      // Prepend this module to the container.\n      PNotify.modulesPrependContainer.push(Component);\n\n      // Add button icons to icons objects.\n      Object.assign(PNotify.icons.brighttheme, {\n        closer: 'brighttheme-icon-closer',\n        pinUp: 'brighttheme-icon-sticker',\n        pinDown: 'brighttheme-icon-sticker brighttheme-icon-stuck'\n      });\n      Object.assign(PNotify.icons.bootstrap3, {\n        closer: 'glyphicon glyphicon-remove',\n        pinUp: 'glyphicon glyphicon-pause',\n        pinDown: 'glyphicon glyphicon-play'\n      });\n      Object.assign(PNotify.icons.fontawesome4, {\n        closer: 'fa fa-times',\n        pinUp: 'fa fa-pause',\n        pinDown: 'fa fa-play'\n      });\n      Object.assign(PNotify.icons.fontawesome5, {\n        closer: 'fas fa-times',\n        pinUp: 'fas fa-pause',\n        pinDown: 'fas fa-play'\n      });\n    },\n\n    oncreate () {\n      this.fire('init', { module: this });\n    },\n\n    data () {\n      return Object.assign({\n        '_notice': null, // The PNotify notice.\n        '_options': {}, // The options for the notice.\n        '_mouseIsIn': false\n      }, PNotify.modules.Buttons.defaults);\n    },\n\n    computed: {\n      // Whether to show the sticker icon.\n      _showSticker: ({ sticker, _notice }) => sticker && !(_notice && _notice.refs.elem.classList.contains('nonblock')),\n      // Whether to show the closer icon.\n      _showCloser: ({ closer, _notice }) => closer && !(_notice && _notice.refs.elem.classList.contains('nonblock')),\n      // These are button icon classes.\n      _pinUpClass: ({ classes, _notice }) => _notice ? (classes.pinUp === null ? _notice.get()._icons.pinUp : classes.pinUp) : '',\n      _pinDownClass: ({ classes, _notice }) => _notice ? (classes.pinDown === null ? _notice.get()._icons.pinDown : classes.pinDown) : '',\n      _closerClass: ({ classes, _notice }) => _notice ? (classes.closer === null ? _notice.get()._icons.closer : classes.closer) : ''\n    },\n\n    methods: {\n      initModule (options) {\n        this.set(options);\n        const { _notice } = this.get();\n        _notice.on('mouseenter', () => this.set({ '_mouseIsIn': true }));\n        _notice.on('mouseleave', () => this.set({ '_mouseIsIn': false }));\n        _notice.on('state', ({ changed, current }) => {\n          if (!changed.hide) {\n            return;\n          }\n\n          const { sticker } = this.get();\n\n          if (!sticker) {\n            return;\n          }\n\n          // Font Awesome 5 replaces our lovely element with a gross SVG. In\n          // order to make it play nice with Svelte, we have to clear the\n          // element and make it again.\n          const icon = current.hide ? this.get().classes.pinUp : this.get().classes.pinDown;\n          if (\n            (this.get()._notice.get().icons === 'fontawesome5') ||\n            (typeof icon === 'string' && icon.match(/(^| )fa[srlb]($| )/))\n          ) {\n            this.set({ 'sticker': false });\n            this.set({ 'sticker': true });\n          }\n        });\n      },\n\n      handleStickerClick () {\n        const { _notice } = this.get();\n        _notice.update({ hide: !_notice.get().hide });\n      },\n\n      handleCloserClick () {\n        this.get()._notice.close(false);\n        this.set({ '_mouseIsIn': false });\n      }\n    }\n  };\n</script>\n\n<style>\n  .ui-pnotify-closer,\n  .ui-pnotify-sticker {\n    float: right;\n    margin-left: .5em;\n    cursor: pointer;\n  }\n  :global([dir=rtl]) .ui-pnotify-closer,\n  :global([dir=rtl]) .ui-pnotify-sticker {\n    float: left;\n    margin-right: .5em;\n    margin-left: 0;\n  }\n  .ui-pnotify-buttons-hidden {\n    visibility: hidden;\n  }\n</style>\n"]}