{"version":3,"sources":["src/PNotifyConfirm.html"],"names":[],"mappings":"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","sourcesContent":["{#if confirm || prompt}\n  <div class=\"ui-pnotify-confirm\">\n    {#if prompt}\n      <div\n          class=\"\n            ui-pnotify-prompt-bar\n            {_notice.get()._styles.promptBar ? _notice.get()._styles.promptBar : ''}\n            {_notice.get()._styles.text ? _notice.get()._styles.text : ''}\n          \">\n        {#if promptMultiLine}\n          <textarea\n              rows=\"5\"\n              on:keypress=\"handleKeyPress(event)\"\n              ref:promptMulti\n              class=\"\n                ui-pnotify-prompt-input\n                {_notice.get()._styles.input ? _notice.get()._styles.input : ''}\n                {promptClass}\n              \"\n              bind:value=\"promptValue\"></textarea>\n        {:else}\n          <input\n              type=\"text\"\n              on:keypress=\"handleKeyPress(event)\"\n              ref:promptSingle\n              class=\"\n                ui-pnotify-prompt-input\n                {_notice.get()._styles.input ? _notice.get()._styles.input : ''}\n                {promptClass}\n              \"\n              bind:value=\"promptValue\" />\n        {/if}\n      </div>\n    {/if}\n    <div\n        class=\"\n          ui-pnotify-action-bar\n          {_notice.get()._styles.actionBar ? _notice.get()._styles.actionBar : ''}\n          {_notice.get()._styles.text ? _notice.get()._styles.text : ''}\n        \"\n        style=\"justify-content: {align};\"\n        ref:buttons>\n      {#each buttons as button}\n        <button\n            type=\"button\"\n            on:click=\"handleClick(button, event)\"\n            class=\"\n              ui-pnotify-action-button\n              {button.primary ? (_notice.get()._styles.btnPrimary ? _notice.get()._styles.btnPrimary : '') : (_notice.get()._styles.btn ? _notice.get()._styles.btn : '')}\n              {button.addClass ? button.addClass : ''}\n            \">{#if button.textTrusted}{@html button.text}{:else}{button.text}{/if}</button>\n      {/each}\n    </div>\n  </div>\n{/if}\n\n<script>\n  import PNotify from './PNotify.html';\n\n  export default {\n    setup (Component) {\n      Component.key = 'Confirm';\n\n      Component.defaults = {\n        // Make a confirmation box.\n        confirm: false,\n        // Make a prompt.\n        prompt: false,\n        // Classes to add to the input element of the prompt.\n        promptClass: '',\n        // The value of the prompt.\n        promptValue: '',\n        // Whether the prompt should accept multiple lines of text.\n        promptMultiLine: false,\n        // For confirmation boxes, true means the first button or the button with promptTrigger will be focused, and null means focus will change only for modal notices. For prompts, true or null means focus the prompt. When false, focus will not change.\n        focus: null,\n        // Where to align the buttons. (flex-start, center, flex-end, space-around, space-between)\n        align: 'flex-end',\n        // The buttons to display, and their callbacks.\n        buttons: [\n          {\n            text: 'Ok',\n            textTrusted: false,\n            addClass: '',\n            primary: true,\n            // Whether to trigger this button when the user hits enter in a single line prompt. Also, focus the button if it is a modal prompt.\n            promptTrigger: true,\n            click: (notice, value) => {\n              notice.close();\n              notice.fire('pnotify.confirm', { notice, value });\n            }\n          },\n          {\n            text: 'Cancel',\n            textTrusted: false,\n            addClass: '',\n            click: (notice) => {\n              notice.close();\n              notice.fire('pnotify.cancel', { notice });\n            }\n          }\n        ]\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Confirm = Component;\n      // Append this module to the container.\n      PNotify.modulesAppendContainer.push(Component);\n\n      // Add button styles to styling objects.\n      Object.assign(PNotify.styling.brighttheme, {\n        actionBar: '',\n        promptBar: '',\n        btn: '',\n        btnPrimary: 'brighttheme-primary',\n        input: ''\n      });\n      Object.assign(PNotify.styling.bootstrap3, {\n        actionBar: 'ui-pnotify-confirm-ml',\n        promptBar: 'ui-pnotify-confirm-ml',\n        btn: 'btn btn-default ui-pnotify-confirm-mx-1',\n        btnPrimary: 'btn btn-default ui-pnotify-confirm-mx-1 btn-primary',\n        input: 'form-control'\n      });\n      Object.assign(PNotify.styling.bootstrap4, {\n        actionBar: 'ui-pnotify-confirm-ml',\n        promptBar: 'ui-pnotify-confirm-ml',\n        btn: 'btn btn-secondary mx-1',\n        btnPrimary: 'btn btn-primary mx-1',\n        input: 'form-control'\n      });\n      if (!PNotify.styling.material) {\n        PNotify.styling.material = {};\n      }\n      Object.assign(PNotify.styling.material, {\n        actionBar: '',\n        promptBar: '',\n        btn: '',\n        btnPrimary: 'ui-pnotify-material-primary',\n        input: ''\n      });\n    },\n\n    oncreate () {\n      this.fire('init', { module: this });\n    },\n\n    data () {\n      return Object.assign({\n        '_notice': null, // The PNotify notice.\n        '_options': {} // The options for the notice.\n      }, PNotify.modules.Confirm.defaults);\n    },\n\n    methods: {\n      initModule (options) {\n        this.set(options);\n      },\n\n      afterOpen () {\n        if (this.get().prompt && this.get().focus !== false) {\n          if (this.get().promptMultiLine) {\n            this.refs.promptMulti.focus();\n          } else {\n            this.refs.promptSingle.focus();\n          }\n        } else if (this.get().confirm &&\n          (\n            this.get().focus === true ||\n            (this.get().focus === null && this.get()._options.stack.modal)\n          )\n        ) {\n          const buttons = this.get().buttons;\n          if (buttons.length) {\n            let i = buttons.length - 1;\n            while (i >= 0) {\n              if (buttons[i].promptTrigger) {\n                break;\n              }\n              i--;\n            }\n            this.refs.buttons.children[i].focus();\n          }\n        }\n      },\n\n      handleClick (button, event) {\n        if (button.click) {\n          button.click(this.get()._notice, this.get().prompt ? this.get().promptValue : null, event);\n        }\n      },\n\n      handleKeyPress (event) {\n        if (event.keyCode === 13 && !event.shiftKey) {\n          event.preventDefault();\n          const { buttons } = this.get();\n          for (let i = 0; i < buttons.length; i++) {\n            if (buttons[i].promptTrigger && buttons[i].click) {\n              buttons[i].click(this.get()._notice, this.get().prompt ? this.get().promptValue : null, event);\n            }\n          }\n        }\n      }\n    }\n  };\n</script>\n\n<style>\n  .ui-pnotify-action-bar,\n  .ui-pnotify-prompt-bar {\n    margin-top: 5px;\n    clear: both;\n  }\n  .ui-pnotify-action-bar {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n  }\n  .ui-pnotify-prompt-input {\n    margin-bottom: 5px;\n    display: block;\n    width: 100%;\n  }\n  .ui-pnotify-confirm-mx-1 {\n    margin: 0 5px;\n  }\n  :global(.ui-pnotify.ui-pnotify-with-icon) .ui-pnotify-confirm-ml {\n    margin-left: 24px;\n  }\n  :global([dir=rtl] .ui-pnotify.ui-pnotify-with-icon) .ui-pnotify-confirm-ml {\n    margin-right: 24px;\n    margin-left: 0;\n  }\n</style>\n"]}